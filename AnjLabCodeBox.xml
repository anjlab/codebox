<?xml version="1.0" encoding="utf-8"?>
<project xmlns="http://www.plcopen.org/xml/tc6_0200">
  <fileHeader companyName="Prosoft-Systems Ltd." productName="Astra.IDE" productVersion="Astra.IDE_V1.7.2.1" creationDateTime="2025-06-12T14:05:23.9971404" />
  <contentHeader name="Anjlab Code Box" version="3.5.17.1" modificationDateTime="2025-06-12T13:59:54.8513333" organization="Anjlab" author="Sergey A Glukhov">
    <Comment>Helpful ST blocks and functions</Comment>
    <coordinateInfo>
      <fbd>
        <scaling x="1" y="1" />
      </fbd>
      <ld>
        <scaling x="1" y="1" />
      </ld>
      <sfc>
        <scaling x="1" y="1" />
      </sfc>
    </coordinateInfo>
    <addData>
      <data name="http://www.3s-software.com/plcopenxml/projectinformation" handleUnknown="implementation">
        <ProjectInformation>
          <property name="Author" type="string">Sergey A Glukhov</property>
          <property name="AutoResolveUnbound" type="boolean">true</property>
          <property name="Company" type="string">Anjlab</property>
          <property name="DefaultNamespace" type="string">ACB</property>
          <property name="Description" type="string">Helpful ST blocks and functions</property>
          <property name="DocFormat" type="string">reStructuredText</property>
          <property name="ID" type="string">888cbf53-45a1-47de-9a2a-fbd72e84a196</property>
          <property name="IsEndUserLibrary" type="boolean">false</property>
          <property name="LanguageModelAttribute" type="string">qualified-access-only</property>
          <property name="Placeholder" type="string">AnjlabCodeBox</property>
          <property name="Project" type="string">AnjLabCodeBox</property>
          <property name="Released" type="boolean">true</property>
          <property name="SourceLibrary" type="boolean">false</property>
          <property name="Title" type="string">Anjlab Code Box</property>
          <property name="Version" type="version">3.5.17.1</property>
          <property name="library-category-list" type="library-category-list" />
        </ProjectInformation>
      </data>
    </addData>
  </contentHeader>
  <types>
    <dataTypes />
    <pous>
      <pou name="DebunceBoolIn" pouType="functionBlock">
        <interface>
          <inputVars>
            <variable name="input">
              <type>
                <BOOL />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Входной сигнал </xhtml>
              </documentation>
            </variable>
          </inputVars>
          <outputVars>
            <variable name="output">
              <type>
                <BOOL />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Выходной сигнал </xhtml>
              </documentation>
            </variable>
          </outputVars>
          <localVars>
            <variable name="startTime">
              <type>
                <TIME />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Время начала </xhtml>
              </documentation>
            </variable>
            <variable name="memory">
              <type>
                <BOOL />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Память сигнала </xhtml>
              </documentation>
            </variable>
          </localVars>
          <documentation>
            <xhtml xmlns="http://www.w3.org/1999/xhtml"> Сглаживание дискретного сигнала</xhtml>
          </documentation>
        </interface>
        <body>
          <ST>
            <xhtml xmlns="http://www.w3.org/1999/xhtml">IF input AND NOT memory THEN
	startTime := TIME();
END_IF;
memory := input;
output := input AND ((TIME() - startTime) &gt; T#100ms);</xhtml>
          </ST>
        </body>
        <addData>
          <data name="http://www.3s-software.com/plcopenxml/objectid" handleUnknown="discard">
            <ObjectId>95ddd795-0967-4fd1-b39a-104236a6cda9</ObjectId>
          </data>
        </addData>
      </pou>
      <pou name="DebunceBoolInOut" pouType="functionBlock">
        <interface>
          <inputVars>
            <variable name="input">
              <type>
                <BOOL />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Входной сигнал </xhtml>
              </documentation>
            </variable>
          </inputVars>
          <outputVars>
            <variable name="output">
              <type>
                <BOOL />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Выходной сигнал </xhtml>
              </documentation>
            </variable>
          </outputVars>
          <localVars>
            <variable name="startTime">
              <type>
                <TIME />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Время начала </xhtml>
              </documentation>
            </variable>
            <variable name="memory">
              <type>
                <BOOL />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Память сигнала </xhtml>
              </documentation>
            </variable>
          </localVars>
          <documentation>
            <xhtml xmlns="http://www.w3.org/1999/xhtml"> Сглаживание дискретного сигнала</xhtml>
          </documentation>
        </interface>
        <body>
          <ST>
            <xhtml xmlns="http://www.w3.org/1999/xhtml">IF (NOT input AND memory) OR (input AND NOT memory) THEN
	startTime := TIME();
END_IF;
memory := input;
output := input;
IF ((TIME() - startTime) &lt; T#100ms) THEN
	output := NOT input;
END_IF</xhtml>
          </ST>
        </body>
        <addData>
          <data name="http://www.3s-software.com/plcopenxml/objectid" handleUnknown="discard">
            <ObjectId>55ebab12-5437-4033-a731-b42ecbacfe06</ObjectId>
          </data>
        </addData>
      </pou>
      <pou name="DebunceBoolOut" pouType="functionBlock">
        <interface>
          <inputVars>
            <variable name="input">
              <type>
                <BOOL />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Входной сигнал </xhtml>
              </documentation>
            </variable>
          </inputVars>
          <outputVars>
            <variable name="output">
              <type>
                <BOOL />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Выходной сигнал </xhtml>
              </documentation>
            </variable>
          </outputVars>
          <localVars>
            <variable name="startTime">
              <type>
                <TIME />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Время начала </xhtml>
              </documentation>
            </variable>
            <variable name="memory">
              <type>
                <BOOL />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Память сигнала </xhtml>
              </documentation>
            </variable>
          </localVars>
          <documentation>
            <xhtml xmlns="http://www.w3.org/1999/xhtml"> Сглаживание дискретного сигнала</xhtml>
          </documentation>
        </interface>
        <body>
          <ST>
            <xhtml xmlns="http://www.w3.org/1999/xhtml">IF NOT input AND memory THEN
	startTime := TIME();
END_IF;
memory := input;
output := input;
IF NOT input AND ((TIME() - startTime) &lt; T#100ms) THEN
	output := TRUE;
END_IF</xhtml>
          </ST>
        </body>
        <addData>
          <data name="http://www.3s-software.com/plcopenxml/objectid" handleUnknown="discard">
            <ObjectId>30d49b21-1ce3-4ef8-883d-665f4a788870</ObjectId>
          </data>
        </addData>
      </pou>
      <pou name="DetectEdgeFiltered" pouType="functionBlock">
        <interface>
          <inputVars>
            <variable name="input">
              <type>
                <BOOL />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Входной сигнал</xhtml>
              </documentation>
            </variable>
          </inputVars>
          <outputVars>
            <variable name="raise">
              <type>
                <BOOL />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Передний фронт</xhtml>
              </documentation>
            </variable>
            <variable name="fall">
              <type>
                <BOOL />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Задний фронт</xhtml>
              </documentation>
            </variable>
          </outputVars>
          <localVars>
            <variable name="fbDio1">
              <type>
                <derived name="DebunceBoolInOut" />
              </type>
            </variable>
            <variable name="filteredInput">
              <type>
                <BOOL />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Отфильтрованный вход </xhtml>
              </documentation>
            </variable>
            <variable name="memory">
              <type>
                <BOOL />
              </type>
            </variable>
          </localVars>
          <documentation>
            <xhtml xmlns="http://www.w3.org/1999/xhtml"> выделяет передний и задний фронт с фильтром на 100 миллисекунд</xhtml>
          </documentation>
        </interface>
        <body>
          <ST>
            <xhtml xmlns="http://www.w3.org/1999/xhtml">fbDio1(input := input, output =&gt; filteredInput);
raise := fall := FALSE;
IF filteredInput AND NOT memory THEN
	raise := TRUE;
ELSIF NOT filteredInput AND memory THEN
	fall := TRUE;
END_IF
memory := filteredInput;</xhtml>
          </ST>
        </body>
        <addData>
          <data name="http://www.3s-software.com/plcopenxml/objectid" handleUnknown="discard">
            <ObjectId>576b0ef3-7dfb-44b9-9d4d-f7a2f2158045</ObjectId>
          </data>
        </addData>
      </pou>
      <pou name="DoubleClick" pouType="functionBlock">
        <interface>
          <inputVars>
            <variable name="input">
              <type>
                <BOOL />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Входной сигнал </xhtml>
              </documentation>
            </variable>
          </inputVars>
          <outputVars>
            <variable name="output">
              <type>
                <BOOL />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Выходной сигнал </xhtml>
              </documentation>
            </variable>
          </outputVars>
          <localVars>
            <variable name="startTime">
              <type>
                <TIME />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Время начала </xhtml>
              </documentation>
            </variable>
            <variable name="memory">
              <type>
                <BOOL />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Память сигнала </xhtml>
              </documentation>
            </variable>
          </localVars>
          <documentation>
            <xhtml xmlns="http://www.w3.org/1999/xhtml"> Двойной клик</xhtml>
          </documentation>
        </interface>
        <body>
          <ST>
            <xhtml xmlns="http://www.w3.org/1999/xhtml">output := FALSE;
IF input AND NOT memory THEN
	IF (TIME() - startTime) &gt; T#100MS AND (TIME() - startTime) &lt; T#800MS THEN
		output := TRUE;
	END_IF;
	startTime := TIME();
END_IF;
memory := input;</xhtml>
          </ST>
        </body>
        <addData>
          <data name="http://www.3s-software.com/plcopenxml/objectid" handleUnknown="discard">
            <ObjectId>d3ac0715-866a-45c1-a900-b774b7c5c01c</ObjectId>
          </data>
        </addData>
      </pou>
      <pou name="FilterNR" pouType="functionBlock">
        <interface>
          <inputVars>
            <variable name="input">
              <type>
                <WORD />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Входное значение </xhtml>
              </documentation>
            </variable>
            <variable name="bufferSize">
              <type>
                <UINT />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Размер буфера минимум 32 максимум 1000 </xhtml>
              </documentation>
            </variable>
            <variable name="reset">
              <type>
                <BOOL />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Сброс буфера </xhtml>
              </documentation>
            </variable>
          </inputVars>
          <outputVars>
            <variable name="output">
              <type>
                <WORD />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Выходное отфильтрованное значение </xhtml>
              </documentation>
            </variable>
          </outputVars>
          <localVars>
            <variable name="isInitialized">
              <type>
                <BOOL />
              </type>
            </variable>
            <variable name="buffer">
              <type>
                <array>
                  <dimension lower="1" upper="1000" />
                  <baseType>
                    <WORD />
                  </baseType>
                </array>
              </type>
            </variable>
            <variable name="counter">
              <type>
                <UINT />
              </type>
            </variable>
            <variable name="sum">
              <type>
                <DINT />
              </type>
            </variable>
          </localVars>
          <documentation>
            <xhtml xmlns="http://www.w3.org/1999/xhtml"> Эта функция хранит до 32-х значений в буфере и выдает среднее значение. Вы сами можете решить, сколько значений сохранить для получения среднего числа.</xhtml>
          </documentation>
        </interface>
        <body>
          <ST>
            <xhtml xmlns="http://www.w3.org/1999/xhtml">(* ограничим bufferSize в размер буфера *)
bufferSize := MIN(MAX(bufferSize, 1000), 32);
(* Инициализация *)
IF NOT isInitialized OR reset THEN
	isInitialized := TRUE;
	FOR counter := 1 TO bufferSize DO
		buffer[counter] := input;
	END_FOR;
	sum := input * bufferSize;
	output := input;
	RETURN;
END_IF;

IF counter &gt;= bufferSize THEN
    counter := 1;
ELSE
    counter := counter + 1;
END_IF

sum := sum + input - buffer[counter];
{warning disable C0195}
output := DWORD_TO_WORD(sum / bufferSize);
buffer[counter] := input;</xhtml>
          </ST>
        </body>
        <addData>
          <data name="http://www.3s-software.com/plcopenxml/objectid" handleUnknown="discard">
            <ObjectId>23da4515-91ff-492f-bd6c-a924c27cb1b0</ObjectId>
          </data>
        </addData>
      </pou>
      <pou name="FilterTW" pouType="functionBlock">
        <interface>
          <inputVars>
            <variable name="input">
              <type>
                <WORD />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Входное значение </xhtml>
              </documentation>
            </variable>
            <variable name="timeInterval">
              <type>
                <TIME />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Временной интервал</xhtml>
              </documentation>
            </variable>
          </inputVars>
          <outputVars>
            <variable name="output">
              <type>
                <WORD />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Выходное отфильтрованное значение </xhtml>
              </documentation>
            </variable>
          </outputVars>
          <localVars>
            <variable name="isInitialized">
              <type>
                <BOOL />
              </type>
            </variable>
            <variable name="currentTime">
              <type>
                <DWORD />
              </type>
            </variable>
            <variable name="lastTime">
              <type>
                <DWORD />
              </type>
            </variable>
            <variable name="tempTime">
              <type>
                <DWORD />
              </type>
            </variable>
          </localVars>
          <documentation>
            <xhtml xmlns="http://www.w3.org/1999/xhtml"> возвращает среднее значение за определенный промежуток времени.</xhtml>
          </documentation>
        </interface>
        <body>
          <ST>
            <xhtml xmlns="http://www.w3.org/1999/xhtml">(* Получаем текущее время *)
currentTime := TIME_TO_DWORD(TIME());
(* Инициализация *)
IF NOT isInitialized OR timeInterval = T#0s THEN
	isInitialized := TRUE;
	lastTime := currentTime;
	output := input;
ELSIF output = input THEN
	lastTime := currentTime;
ELSE
	tempTime := WORD_TO_DWORD(input - output) * (currentTime - lastTime) /
	TIME_TO_DWORD(timeInterval);
	IF tempTime &lt;&gt; 0 THEN
		output := DINT_TO_WORD(WORD_TO_DINT(output) + DWORD_TO_DINT(tempTime));
		lastTime := currentTime;
	END_IF;
END_IF;</xhtml>
          </ST>
        </body>
        <addData>
          <data name="http://www.3s-software.com/plcopenxml/objectid" handleUnknown="discard">
            <ObjectId>cc4d134d-f449-4f06-8605-2d943310a473</ObjectId>
          </data>
        </addData>
      </pou>
      <pou name="LongClick" pouType="functionBlock">
        <interface>
          <inputVars>
            <variable name="input">
              <type>
                <BOOL />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Входной сигнал </xhtml>
              </documentation>
            </variable>
            <variable name="pressTime">
              <type>
                <TIME />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Время нажатия </xhtml>
              </documentation>
            </variable>
          </inputVars>
          <outputVars>
            <variable name="output">
              <type>
                <BOOL />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Выходной сигнал </xhtml>
              </documentation>
            </variable>
          </outputVars>
          <localVars>
            <variable name="startTime">
              <type>
                <TIME />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Время начала </xhtml>
              </documentation>
            </variable>
            <variable name="memory">
              <type>
                <BOOL />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Память сигнала </xhtml>
              </documentation>
            </variable>
          </localVars>
          <documentation>
            <xhtml xmlns="http://www.w3.org/1999/xhtml"> Долгий клик</xhtml>
          </documentation>
        </interface>
        <body>
          <ST>
            <xhtml xmlns="http://www.w3.org/1999/xhtml">IF input AND NOT memory THEN
	startTime := TIME();
END_IF;
memory := input;
output := input AND ((TIME() - startTime) &gt; pressTime);</xhtml>
          </ST>
        </body>
        <addData>
          <data name="http://www.3s-software.com/plcopenxml/objectid" handleUnknown="discard">
            <ObjectId>e847a08d-2858-49e0-b6fb-cbe441c3349b</ObjectId>
          </data>
        </addData>
      </pou>
      <pou name="PwmClock" pouType="functionBlock">
        <interface>
          <inputVars>
            <variable name="enable">
              <type>
                <BOOL />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Запуск генератора</xhtml>
              </documentation>
            </variable>
            <variable name="pulseTime">
              <type>
                <TIME />
              </type>
              <initialValue>
                <simpleValue value="TIME#10ms" />
              </initialValue>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Время импульсов</xhtml>
              </documentation>
            </variable>
          </inputVars>
          <outputVars>
            <variable name="output">
              <type>
                <BOOL />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Выходной сигнал</xhtml>
              </documentation>
            </variable>
          </outputVars>
          <localVars>
            <variable name="memory">
              <type>
                <BOOL />
              </type>
            </variable>
            <variable name="lastTime">
              <type>
                <TIME />
              </type>
            </variable>
            <variable name="currentTime">
              <type>
                <TIME />
              </type>
            </variable>
          </localVars>
          <documentation>
            <xhtml xmlns="http://www.w3.org/1999/xhtml"> создает импульсы с заданной частотой
 CLK_PWM(EN := TRUE, PT := T#5ms); На выходе Q будет импульс в один цикл ПЛК, раз в 5 миллисекунд.</xhtml>
          </documentation>
        </interface>
        <body>
          <ST>
            <xhtml xmlns="http://www.w3.org/1999/xhtml">currentTime := TIME();
IF enable AND NOT memory THEN
	lastTime := currentTime - pulseTime;
END_IF;
memory := enable;
output := currentTime - lastTime &gt;= pulseTime;
IF output THEN lastTime := currentTime; END_IF;</xhtml>
          </ST>
        </body>
        <addData>
          <data name="http://www.3s-software.com/plcopenxml/objectid" handleUnknown="discard">
            <ObjectId>e2565834-4fd9-4a85-b9e7-a4c45a2b4e0b</ObjectId>
          </data>
        </addData>
      </pou>
      <pou name="PwmDc" pouType="functionBlock">
        <interface>
          <inputVars>
            <variable name="frequency">
              <type>
                <REAL />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Частота, раз в секунду (Гц) </xhtml>
              </documentation>
            </variable>
            <variable name="dutyCycle">
              <type>
                <REAL />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Соотношение </xhtml>
              </documentation>
            </variable>
          </inputVars>
          <outputVars>
            <variable name="output">
              <type>
                <BOOL />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Выходной сигнал</xhtml>
              </documentation>
            </variable>
          </outputVars>
          <localVars>
            <variable name="clock">
              <type>
                <derived name="PwmClock" />
              </type>
            </variable>
            <variable name="pulseTimer">
              <type>
                <derived name="TP" />
              </type>
            </variable>
            <variable name="tempValue">
              <type>
                <REAL />
              </type>
            </variable>
          </localVars>
          <documentation>
            <xhtml xmlns="http://www.w3.org/1999/xhtml"> создает ШИМ-сигнал заданной частоты со смещением соотношения. Каждый цик ШИМ можно разделить на 2 фазы: Ton (время включения) и Toff (время выключения). 
 Соотношение задается от 0 до 1. Например, соотношение 0.5 разделит время каждого цикла шим на 50% на Ton и 50% на Toff .</xhtml>
          </documentation>
        </interface>
        <body>
          <ST>
            <xhtml xmlns="http://www.w3.org/1999/xhtml">(* Если частота ШИМ 0, то прерываем исполнение ФБ *)
IF frequency &lt;= 0.0 THEN
	output := FALSE;
	RETURN;
END_IF;
(* Вычисляем сколько миллисекунд требуется на один цикл ШИМ *)
tempValue := 1000.0 / frequency;
(* Запускаем генератор сигналов *)
clock(pulseTime := REAL_TO_TIME(tempValue));
(* Создаем выдержанный пульс на нужное время *)
pulseTimer(in := clock.output, pt := REAL_TO_TIME(tempValue * dutyCycle), Q =&gt; output);</xhtml>
          </ST>
        </body>
        <addData>
          <data name="http://www.3s-software.com/plcopenxml/objectid" handleUnknown="discard">
            <ObjectId>55fa2adc-b14d-4d49-a0d3-ee6618946ede</ObjectId>
          </data>
        </addData>
      </pou>
      <pou name="PwmPw" pouType="functionBlock">
        <interface>
          <inputVars>
            <variable name="frequency">
              <type>
                <REAL />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Частота, раз в секунду (Гц) </xhtml>
              </documentation>
            </variable>
            <variable name="pulseWidth">
              <type>
                <TIME />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Длина фазы Ton </xhtml>
              </documentation>
            </variable>
          </inputVars>
          <outputVars>
            <variable name="output">
              <type>
                <BOOL />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Выходной сигнал</xhtml>
              </documentation>
            </variable>
          </outputVars>
          <localVars>
            <variable name="clock">
              <type>
                <derived name="PwmClock" />
              </type>
            </variable>
            <variable name="pulseTimer">
              <type>
                <derived name="TP" />
              </type>
            </variable>
          </localVars>
          <documentation>
            <xhtml xmlns="http://www.w3.org/1999/xhtml"> Создает ШИМ-сигнал с заданным временем фазы Ton . Например, мы можем установить F на 100 раз в секунду. Это значит, один цикл ШИМ будет 10
 миллисекунд. Теперь поставим PW в T#5ms и получим равное время для фазы Ton и Toff по 50%.</xhtml>
          </documentation>
        </interface>
        <body>
          <ST>
            <xhtml xmlns="http://www.w3.org/1999/xhtml">(* Если частота ШИМ 0 или время одного цикла меньше,
чем время для фазы Ton, то прерываем исполнение ФБ *)
IF frequency &lt;= 0.0 OR (REAL_TO_TIME(1000.0 / frequency) &lt; pulseWidth) THEN
	output := FALSE;
	RETURN;
END_IF;
(* Запускаем генератор сигналов *)
clock(pulseTime := REAL_TO_TIME(1000.0 / frequency));
(* Создаем выдержанный пульс на нужное время *)
pulseTimer(in := clock.output, PT := pulseWidth, Q =&gt; output);</xhtml>
          </ST>
        </body>
        <addData>
          <data name="http://www.3s-software.com/plcopenxml/objectid" handleUnknown="discard">
            <ObjectId>ff93b01a-c5fb-4d17-a425-8e834ffc249d</ObjectId>
          </data>
        </addData>
      </pou>
      <pou name="SunTime" pouType="functionBlock">
        <interface>
          <inputVars>
            <variable name="LATITUDE">
              <type>
                <REAL />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Широта </xhtml>
              </documentation>
            </variable>
            <variable name="LONGITUDE">
              <type>
                <REAL />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Долгота </xhtml>
              </documentation>
            </variable>
            <variable name="UTC">
              <type>
                <DATE />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Текущее время в UTC </xhtml>
              </documentation>
            </variable>
            <variable name="H">
              <type>
                <REAL />
              </type>
              <initialValue>
                <simpleValue value="-0.83333333333" />
              </initialValue>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Градус над горизонтом, при котором уже считается наступление заката или восхода </xhtml>
              </documentation>
            </variable>
          </inputVars>
          <outputVars>
            <variable name="MIDDAY">
              <type>
                <TOD />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Время дня солнцестояния </xhtml>
              </documentation>
            </variable>
            <variable name="SUN_RISE">
              <type>
                <TOD />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Время восхода </xhtml>
              </documentation>
            </variable>
            <variable name="SUN_SET">
              <type>
                <TOD />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Время заката </xhtml>
              </documentation>
            </variable>
            <variable name="SUN_DECLINATION">
              <type>
                <REAL />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Угол наклона солнца в солнцестояние в градусах </xhtml>
              </documentation>
            </variable>
          </outputVars>
          <localVars>
            <variable name="dk">
              <type>
                <REAL />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Угол наклона солнца в полдень в радианах </xhtml>
              </documentation>
            </variable>
            <variable name="delta">
              <type>
                <TIME />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Дельта от солнцестояния до восхода или заката </xhtml>
              </documentation>
            </variable>
            <variable name="b">
              <type>
                <REAL />
              </type>
            </variable>
          </localVars>
          <documentation>
            <xhtml xmlns="http://www.w3.org/1999/xhtml"> расчет времени заката и восхода</xhtml>
          </documentation>
        </interface>
        <body>
          <ST>
            <xhtml xmlns="http://www.w3.org/1999/xhtml">MIDDAY := SunMidday(longitude, utc);
b := latitude * 0.0174532925199433;
dk := 0.40954 * SIN(0.0172 * (UINT_TO_REAL(DayOfYear(utc)) - 79.35));
SUN_DECLINATION := DegreesToRadians(DK);
IF SUN_DECLINATION &gt; 180.0 THEN
	SUN_DECLINATION := SUN_DECLINATION - 360.0;
END_IF;
SUN_DECLINATION := 90.0 - LATITUDE + SUN_DECLINATION;
delta := HourToTime(REAL_TO_INT(ACOS((SIN(RadiansToDegrees(H)) - SIN(B) * SIN(DK)) / (COS(B) * COS(DK))) * 3.819718632));
SUN_RISE := MIDDAY - delta;
SUN_SET := MIDDAY + delta;</xhtml>
          </ST>
        </body>
        <addData>
          <data name="http://www.3s-software.com/plcopenxml/objectid" handleUnknown="discard">
            <ObjectId>c0162500-a121-4d9a-a1ba-5801e54027bc</ObjectId>
          </data>
        </addData>
      </pou>
      <pou name="IpDecode" pouType="function">
        <interface>
          <returnType>
            <DWORD />
          </returnType>
          <inputVars>
            <variable name="ipStr">
              <type>
                <string length="15" />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml">IP-адрес как строка, например, '192.168.1.2'</xhtml>
              </documentation>
            </variable>
          </inputVars>
          <localVars>
            <variable name="position">
              <type>
                <INT />
              </type>
            </variable>
          </localVars>
          <documentation>
            <xhtml xmlns="http://www.w3.org/1999/xhtml"> Преобразование в шестнадцатеричный формат для записи IP</xhtml>
          </documentation>
        </interface>
        <body>
          <ST>
            <xhtml xmlns="http://www.w3.org/1999/xhtml">position := FIND(ipStr, '.');
WHILE position &gt; 0 DO
	IpDecode := SHL(IpDecode, 8) OR
	STRING_TO_DWORD(LEFT(ipStr, position - 1));
	ipStr := DELETE(ipStr, position, 1);
	position := FIND(ipStr, '.');
END_WHILE;
IpDecode := SHL(IpDecode, 8) OR STRING_TO_DWORD(ipStr);</xhtml>
          </ST>
        </body>
        <addData>
          <data name="http://www.3s-software.com/plcopenxml/objectid" handleUnknown="discard">
            <ObjectId>370b1e33-b130-432d-82c0-d0ff7d197d76</ObjectId>
          </data>
        </addData>
      </pou>
      <pou name="Ceil" pouType="function">
        <interface>
          <returnType>
            <DINT />
          </returnType>
          <inputVars>
            <variable name="input">
              <type>
                <REAL />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Входное значение</xhtml>
              </documentation>
            </variable>
          </inputVars>
          <documentation>
            <xhtml xmlns="http://www.w3.org/1999/xhtml"> Округляет значение и возвращает ближайшее целое значение, которое больше или равно X.
 ceil(3.14) = 4 ceil(-3.14) = -3</xhtml>
          </documentation>
        </interface>
        <body>
          <ST>
            <xhtml xmlns="http://www.w3.org/1999/xhtml">Ceil := REAL_TO_DINT(input);

IF DINT_TO_REAL(Ceil) &lt; input THEN
	Ceil := Ceil + 1;
END_IF;</xhtml>
          </ST>
        </body>
        <addData>
          <data name="http://www.3s-software.com/plcopenxml/objectid" handleUnknown="discard">
            <ObjectId>7e9d7ee0-507a-40bb-a5cb-1802edf09ecc</ObjectId>
          </data>
        </addData>
      </pou>
      <pou name="Exp10" pouType="function">
        <interface>
          <returnType>
            <REAL />
          </returnType>
          <inputVars>
            <variable name="input">
              <type>
                <REAL />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Входное значение</xhtml>
              </documentation>
            </variable>
          </inputVars>
          <documentation>
            <xhtml xmlns="http://www.w3.org/1999/xhtml"> Вычисляет с основанием степени 10.
 exp10(2) = 100 exp10(3) = 1000</xhtml>
          </documentation>
        </interface>
        <body>
          <ST>
            <xhtml xmlns="http://www.w3.org/1999/xhtml">Exp10 := EXP(input * 2.30258509299405);</xhtml>
          </ST>
        </body>
        <addData>
          <data name="http://www.3s-software.com/plcopenxml/objectid" handleUnknown="discard">
            <ObjectId>f6121561-6e17-4f2f-aa33-883772fb1cdc</ObjectId>
          </data>
        </addData>
      </pou>
      <pou name="ExpN" pouType="function">
        <interface>
          <returnType>
            <REAL />
          </returnType>
          <inputVars>
            <variable name="input">
              <type>
                <REAL />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Входное значение</xhtml>
              </documentation>
            </variable>
            <variable name="power">
              <type>
                <INT />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Степень</xhtml>
              </documentation>
            </variable>
          </inputVars>
          <localVars>
            <variable name="sign">
              <type>
                <BOOL />
              </type>
            </variable>
          </localVars>
          <documentation>
            <xhtml xmlns="http://www.w3.org/1999/xhtml"> Возведение в степень X^N. Хотя в стандарте есть оператор EXPT, по заявлению OSCAT, данный алгоритм работает в 30 раз быстрее в CoDeSys.</xhtml>
          </documentation>
        </interface>
        <body>
          <ST>
            <xhtml xmlns="http://www.w3.org/1999/xhtml">sign := power.15;
power := ABS(power);
IF power.0 THEN ExpN := input; ELSE ExpN := 1.0; END_IF;
power := SHR(power, 1);

WHILE power &gt; 0 DO
	input := input * input;
	IF power.0 THEN ExpN := ExpN * input; END_IF;
	power := SHR(power, 1);
END_WHILE;

IF sign THEN ExpN := 1.0 / ExpN; END_IF;</xhtml>
          </ST>
        </body>
        <addData>
          <data name="http://www.3s-software.com/plcopenxml/objectid" handleUnknown="discard">
            <ObjectId>9bf63bfe-fe54-48dc-8f90-261ea50d788f</ObjectId>
          </data>
        </addData>
      </pou>
      <pou name="Floor" pouType="function">
        <interface>
          <returnType>
            <DINT />
          </returnType>
          <inputVars>
            <variable name="input">
              <type>
                <REAL />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Входное значение</xhtml>
              </documentation>
            </variable>
          </inputVars>
          <documentation>
            <xhtml xmlns="http://www.w3.org/1999/xhtml"> Округляет значение и возвращает ближайшее целое значение, которое меньше или равно X.
 floor(3.14) = 3 floor(-3.14) = -4</xhtml>
          </documentation>
        </interface>
        <body>
          <ST>
            <xhtml xmlns="http://www.w3.org/1999/xhtml">FLOOR := REAL_TO_DINT(input);
IF DINT_TO_REAL(FLOOR) &gt; input THEN
	FLOOR := FLOOR - 1;
END_IF;</xhtml>
          </ST>
        </body>
        <addData>
          <data name="http://www.3s-software.com/plcopenxml/objectid" handleUnknown="discard">
            <ObjectId>24fdd6dd-18c7-494b-9be5-85e1efccd187</ObjectId>
          </data>
        </addData>
      </pou>
      <pou name="Fract" pouType="function">
        <interface>
          <returnType>
            <REAL />
          </returnType>
          <inputVars>
            <variable name="input">
              <type>
                <REAL />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Входное значение</xhtml>
              </documentation>
            </variable>
          </inputVars>
          <documentation>
            <xhtml xmlns="http://www.w3.org/1999/xhtml"> Эта функция возвращает дробную часть числа с плавающей точкой.
 fract(3.14) = 0.14</xhtml>
          </documentation>
        </interface>
        <body>
          <ST>
            <xhtml xmlns="http://www.w3.org/1999/xhtml">IF ABS(input) &lt; 2.0E9 THEN
	FRACT := input - DINT_TO_REAL(DTrunc(input));
ELSE
	FRACT := 0.0;
END_IF;</xhtml>
          </ST>
        </body>
        <addData>
          <data name="http://www.3s-software.com/plcopenxml/objectid" handleUnknown="discard">
            <ObjectId>645754da-c783-41eb-83c4-3246b516ea8a</ObjectId>
          </data>
        </addData>
      </pou>
      <pou name="ModR" pouType="function">
        <interface>
          <returnType>
            <REAL />
          </returnType>
          <inputVars>
            <variable name="input">
              <type>
                <REAL />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Делимое</xhtml>
              </documentation>
            </variable>
            <variable name="divisor">
              <type>
                <REAL />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Делитель</xhtml>
              </documentation>
            </variable>
          </inputVars>
          <documentation>
            <xhtml xmlns="http://www.w3.org/1999/xhtml"> Вычисляет остаток от деления для чисел с плавающей запятой.
 modr(5.5, 2.5) = 0.5</xhtml>
          </documentation>
        </interface>
        <body>
          <ST>
            <xhtml xmlns="http://www.w3.org/1999/xhtml">IF divisor = 0.0 THEN
	MODR := 0.0;
ELSE
	MODR := input - DINT_TO_REAL(FLOOR(input / divisor)) * divisor;
END_IF;
</xhtml>
          </ST>
        </body>
        <addData>
          <data name="http://www.3s-software.com/plcopenxml/objectid" handleUnknown="discard">
            <ObjectId>eb5f423f-4ff8-4594-96fb-e59f6014738a</ObjectId>
          </data>
        </addData>
      </pou>
      <pou name="Round" pouType="function">
        <interface>
          <returnType>
            <REAL />
          </returnType>
          <inputVars>
            <variable name="input">
              <type>
                <REAL />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Число для обработки </xhtml>
              </documentation>
            </variable>
            <variable name="precision">
              <type>
                <USINT />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Точность после запятой </xhtml>
              </documentation>
            </variable>
          </inputVars>
          <documentation>
            <xhtml xmlns="http://www.w3.org/1999/xhtml"> Округляет число с плавающей точкой до указанного количества знаков после запятой.
 round(12.23456789, 2) = 12.23</xhtml>
          </documentation>
        </interface>
        <body>
          <ST>
            <xhtml xmlns="http://www.w3.org/1999/xhtml">Round := DWORD_TO_REAL(REAL_TO_DWORD(input * Exp10(precision))) / Exp10(precision);
</xhtml>
          </ST>
        </body>
        <addData>
          <data name="http://www.3s-software.com/plcopenxml/objectid" handleUnknown="discard">
            <ObjectId>43eb8e9c-7822-492d-a6d3-b21875b9c65d</ObjectId>
          </data>
        </addData>
      </pou>
      <pou name="CelciusToFarenheit" pouType="function">
        <interface>
          <returnType>
            <REAL />
          </returnType>
          <inputVars>
            <variable name="celsiusTemp">
              <type>
                <REAL />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Входное значение в Цельсиях</xhtml>
              </documentation>
            </variable>
          </inputVars>
          <documentation>
            <xhtml xmlns="http://www.w3.org/1999/xhtml"> Преобразование температуры из Цельсия в Фаренгейт</xhtml>
          </documentation>
        </interface>
        <body>
          <ST>
            <xhtml xmlns="http://www.w3.org/1999/xhtml">CelciusToFarenheit := celsiusTemp * 1.8 + 32.0;</xhtml>
          </ST>
        </body>
        <addData>
          <data name="http://www.3s-software.com/plcopenxml/objectid" handleUnknown="discard">
            <ObjectId>f38a7a17-3c95-415a-9d89-4d5e214e7d67</ObjectId>
          </data>
        </addData>
      </pou>
      <pou name="CelciusToKelvin" pouType="function">
        <interface>
          <returnType>
            <REAL />
          </returnType>
          <inputVars>
            <variable name="celsiusTemp">
              <type>
                <REAL />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Входное значение в Цельсиях</xhtml>
              </documentation>
            </variable>
          </inputVars>
          <localVars constant="true">
            <variable name="physT0">
              <type>
                <REAL />
              </type>
              <initialValue>
                <simpleValue value="273.15" />
              </initialValue>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> 0°C в кельвинах</xhtml>
              </documentation>
            </variable>
          </localVars>
          <documentation>
            <xhtml xmlns="http://www.w3.org/1999/xhtml"> Преобразование температуры из Цельсия в Кельвин</xhtml>
          </documentation>
        </interface>
        <body>
          <ST>
            <xhtml xmlns="http://www.w3.org/1999/xhtml">CelciusToKelvin := celsiusTemp + physT0;</xhtml>
          </ST>
        </body>
        <addData>
          <data name="http://www.3s-software.com/plcopenxml/objectid" handleUnknown="discard">
            <ObjectId>c9722344-c925-4350-b9db-68400010e960</ObjectId>
          </data>
        </addData>
      </pou>
      <pou name="DegreesToRadians" pouType="function">
        <interface>
          <returnType>
            <REAL />
          </returnType>
          <inputVars>
            <variable name="radians">
              <type>
                <REAL />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Входное значение в радианах</xhtml>
              </documentation>
            </variable>
          </inputVars>
          <documentation>
            <xhtml xmlns="http://www.w3.org/1999/xhtml"> Конвертирует радианы в градусы.</xhtml>
          </documentation>
        </interface>
        <body>
          <ST>
            <xhtml xmlns="http://www.w3.org/1999/xhtml">DegreesToRadians := ModR(57.29577951308232 * radians, 360.0);</xhtml>
          </ST>
        </body>
        <addData>
          <data name="http://www.3s-software.com/plcopenxml/objectid" handleUnknown="discard">
            <ObjectId>00741b76-d02e-4841-9218-cf4e51799c29</ObjectId>
          </data>
        </addData>
      </pou>
      <pou name="FarenheitToCelcius" pouType="function">
        <interface>
          <returnType>
            <REAL />
          </returnType>
          <inputVars>
            <variable name="fahrenheitTemp">
              <type>
                <REAL />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Входное значение в Фаренгейтах</xhtml>
              </documentation>
            </variable>
          </inputVars>
          <documentation>
            <xhtml xmlns="http://www.w3.org/1999/xhtml"> Преобразование температуры из Фаренгейт в Цельсий</xhtml>
          </documentation>
        </interface>
        <body>
          <ST>
            <xhtml xmlns="http://www.w3.org/1999/xhtml">FarenheitToCelcius := (fahrenheitTemp - 32.0) * 0.5555555555555;</xhtml>
          </ST>
        </body>
        <addData>
          <data name="http://www.3s-software.com/plcopenxml/objectid" handleUnknown="discard">
            <ObjectId>1c8099aa-563e-4039-baa6-55b2d26aae82</ObjectId>
          </data>
        </addData>
      </pou>
      <pou name="KelvinToCelcius" pouType="function">
        <interface>
          <returnType>
            <REAL />
          </returnType>
          <inputVars>
            <variable name="kelvinTemp">
              <type>
                <REAL />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Входное значение в Кельвнах</xhtml>
              </documentation>
            </variable>
          </inputVars>
          <localVars constant="true">
            <variable name="phys_T0">
              <type>
                <REAL />
              </type>
              <initialValue>
                <simpleValue value="273.15" />
              </initialValue>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> 0°C в кельвинах</xhtml>
              </documentation>
            </variable>
          </localVars>
          <documentation>
            <xhtml xmlns="http://www.w3.org/1999/xhtml"> Преобразование температуры из Кельвина в Цельсий</xhtml>
          </documentation>
        </interface>
        <body>
          <ST>
            <xhtml xmlns="http://www.w3.org/1999/xhtml">KelvinToCelcius := kelvinTemp - phys_T0;</xhtml>
          </ST>
        </body>
        <addData>
          <data name="http://www.3s-software.com/plcopenxml/objectid" handleUnknown="discard">
            <ObjectId>e6d47c81-1b52-487e-bf16-0f77ef5ec08d</ObjectId>
          </data>
        </addData>
      </pou>
      <pou name="KmhToMs" pouType="function">
        <interface>
          <returnType>
            <REAL />
          </returnType>
          <inputVars>
            <variable name="kmhSpeed">
              <type>
                <REAL />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Входное значение в Км/ч</xhtml>
              </documentation>
            </variable>
          </inputVars>
          <documentation>
            <xhtml xmlns="http://www.w3.org/1999/xhtml"> Преобразование скорости: км/ч в м/с</xhtml>
          </documentation>
        </interface>
        <body>
          <ST>
            <xhtml xmlns="http://www.w3.org/1999/xhtml">KmhToMs := kmhSpeed * 0.2777777777777;</xhtml>
          </ST>
        </body>
        <addData>
          <data name="http://www.3s-software.com/plcopenxml/objectid" handleUnknown="discard">
            <ObjectId>2027f9e1-f77f-4afa-a939-a7875cdc7b46</ObjectId>
          </data>
        </addData>
      </pou>
      <pou name="MsToKmh" pouType="function">
        <interface>
          <returnType>
            <REAL />
          </returnType>
          <inputVars>
            <variable name="msSpeed">
              <type>
                <REAL />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Входное значение в м/с</xhtml>
              </documentation>
            </variable>
          </inputVars>
          <documentation>
            <xhtml xmlns="http://www.w3.org/1999/xhtml"> Преобразование скорости: м/с в км/ч</xhtml>
          </documentation>
        </interface>
        <body>
          <ST>
            <xhtml xmlns="http://www.w3.org/1999/xhtml">MsToKmh := msSpeed * 3.6;</xhtml>
          </ST>
        </body>
        <addData>
          <data name="http://www.3s-software.com/plcopenxml/objectid" handleUnknown="discard">
            <ObjectId>89576b24-8a23-496b-abf0-27109c81d84e</ObjectId>
          </data>
        </addData>
      </pou>
      <pou name="RadiansToDegrees" pouType="function">
        <interface>
          <returnType>
            <REAL />
          </returnType>
          <inputVars>
            <variable name="degrees">
              <type>
                <REAL />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Входное значение в градусах</xhtml>
              </documentation>
            </variable>
          </inputVars>
          <localVars>
            <variable name="timeNow">
              <type>
                <DWORD />
              </type>
            </variable>
            <variable name="timeCount">
              <type>
                <INT />
              </type>
            </variable>
          </localVars>
          <localVars constant="true">
            <variable name="pi">
              <type>
                <REAL />
              </type>
              <initialValue>
                <simpleValue value="3.1415926535897931" />
              </initialValue>
            </variable>
          </localVars>
          <documentation>
            <xhtml xmlns="http://www.w3.org/1999/xhtml"> конвертирует градусы в радианы</xhtml>
          </documentation>
        </interface>
        <body>
          <ST>
            <xhtml xmlns="http://www.w3.org/1999/xhtml">RadiansToDegrees := ModR(0.0174532925199433 * degrees, pi*2);</xhtml>
          </ST>
        </body>
        <addData>
          <data name="http://www.3s-software.com/plcopenxml/objectid" handleUnknown="discard">
            <ObjectId>4b9ad742-ef31-4574-92c8-257046749aee</ObjectId>
          </data>
        </addData>
      </pou>
      <pou name="ScaleReal" pouType="function">
        <interface>
          <returnType>
            <REAL />
          </returnType>
          <inputVars>
            <variable name="input">
              <type>
                <REAL />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Входное значение </xhtml>
              </documentation>
            </variable>
            <variable name="inputLow">
              <type>
                <REAL />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Входное минимальное </xhtml>
              </documentation>
            </variable>
            <variable name="inputHigh">
              <type>
                <REAL />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Входное максимальное </xhtml>
              </documentation>
            </variable>
            <variable name="outputLow">
              <type>
                <REAL />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Выходное минимальное </xhtml>
              </documentation>
            </variable>
            <variable name="outputHigh">
              <type>
                <REAL />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Выходное максимальное </xhtml>
              </documentation>
            </variable>
          </inputVars>
          <documentation>
            <xhtml xmlns="http://www.w3.org/1999/xhtml"> линейное масштабирование числа с плавающей запятой </xhtml>
          </documentation>
        </interface>
        <body>
          <ST>
            <xhtml xmlns="http://www.w3.org/1999/xhtml">IF inputLow = inputHigh THEN
	ScaleReal := outputLow;
ELSE
	ScaleReal := (outputHigh - outputLow) / (inputHigh - inputLow) * (LIMIT(inputLow, input, inputHigh) - inputLow) + outputLow;
END_IF;</xhtml>
          </ST>
        </body>
        <addData>
          <data name="http://www.3s-software.com/plcopenxml/objectid" handleUnknown="discard">
            <ObjectId>6196bfc8-2183-4935-bc2e-5406080c7841</ObjectId>
          </data>
        </addData>
      </pou>
      <pou name="CountChar" pouType="function">
        <interface>
          <returnType>
            <INT />
          </returnType>
          <inputVars>
            <variable name="inputString">
              <type>
                <string length="255" />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Строка </xhtml>
              </documentation>
            </variable>
            <variable name="charToCount">
              <type>
                <BYTE />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Символ для подсчета </xhtml>
              </documentation>
            </variable>
          </inputVars>
          <localVars>
            <variable name="charPointer">
              <type>
                <pointer>
                  <baseType>
                    <BYTE />
                  </baseType>
                </pointer>
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Указатель на символ </xhtml>
              </documentation>
            </variable>
            <variable name="length">
              <type>
                <INT />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Длина строки </xhtml>
              </documentation>
            </variable>
            <variable name="position">
              <type>
                <INT />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Текущая позиция строки для прохода </xhtml>
              </documentation>
            </variable>
          </localVars>
          <documentation>
            <xhtml xmlns="http://www.w3.org/1999/xhtml"> считает, как много указанных символов содержится в строке</xhtml>
          </documentation>
        </interface>
        <body>
          <ST>
            <xhtml xmlns="http://www.w3.org/1999/xhtml">charPointer := ADR(inputString);
length := LEN(inputString);
CountChar := 0;
FOR position := 1 TO length DO
	IF charPointer^ = charToCount THEN
		CountChar := CountChar + 1;
	END_IF;
	charPointer := charPointer + 1;
END_FOR;</xhtml>
          </ST>
        </body>
        <addData>
          <data name="http://www.3s-software.com/plcopenxml/objectid" handleUnknown="discard">
            <ObjectId>5aa298bd-a611-423a-87e1-7a0a808f20a1</ObjectId>
          </data>
        </addData>
      </pou>
      <pou name="RemoveSubString" pouType="function">
        <interface>
          <returnType>
            <string />
          </returnType>
          <inputVars>
            <variable name="inputString">
              <type>
                <string />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Входная строка </xhtml>
              </documentation>
            </variable>
            <variable name="substringToRemove">
              <type>
                <string />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Что удалить </xhtml>
              </documentation>
            </variable>
          </inputVars>
          <localVars>
            <variable name="tempString">
              <type>
                <string />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Для временной строки </xhtml>
              </documentation>
            </variable>
            <variable name="position">
              <type>
                <INT />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Позиция найденного символа </xhtml>
              </documentation>
            </variable>
          </localVars>
          <documentation>
            <xhtml xmlns="http://www.w3.org/1999/xhtml"> Удаление символа из строки</xhtml>
          </documentation>
        </interface>
        <body>
          <ST>
            <xhtml xmlns="http://www.w3.org/1999/xhtml">tempString := inputString;
REPEAT
	position := FIND(tempString, substringToRemove);
	IF position &lt;&gt; 0 THEN
		tempString := DELETE(tempString, LEN(substringToRemove), position);
	END_IF;
UNTIL (position = 0)
END_REPEAT;
RemoveSubString := tempString;</xhtml>
          </ST>
        </body>
        <addData>
          <data name="http://www.3s-software.com/plcopenxml/objectid" handleUnknown="discard">
            <ObjectId>0b8ea8fb-1139-4800-98db-52a469579462</ObjectId>
          </data>
        </addData>
      </pou>
      <pou name="ToUpper" pouType="function">
        <interface>
          <returnType>
            <BYTE />
          </returnType>
          <inputVars>
            <variable name="input">
              <type>
                <BYTE />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Входная строка</xhtml>
              </documentation>
            </variable>
            <variable name="useExtendedASCII">
              <type>
                <BOOL />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Значение setup.EXTENDED_ASCII может быть или TRUE или FALSE, в зависимости от символьной таблицы, которая поддерживается ПЛК. Обычно стоит в TRUE.</xhtml>
              </documentation>
            </variable>
          </inputVars>
          <documentation>
            <xhtml xmlns="http://www.w3.org/1999/xhtml"> Изменить регистр символа с маленькой буквы на заглавную. Работает только с латинскими буквами формата ASCII.</xhtml>
          </documentation>
        </interface>
        <body>
          <ST>
            <xhtml xmlns="http://www.w3.org/1999/xhtml">IF input &gt; 96 AND input &lt; 123 THEN
	ToUpper := input AND 16#DF;
ELSIF input &gt; 223 AND input &lt;&gt; 247 AND input &lt;&gt; 255 AND useExtendedASCII THEN
	ToUpper := input AND 16#DF;
ELSE
	ToUpper := input;
END_IF;</xhtml>
          </ST>
        </body>
        <addData>
          <data name="http://www.3s-software.com/plcopenxml/objectid" handleUnknown="discard">
            <ObjectId>698221f0-adfb-47db-abeb-4a75818c8180</ObjectId>
          </data>
        </addData>
      </pou>
      <pou name="DateToElements" pouType="function">
        <interface>
          <returnType>
            <BOOL />
          </returnType>
          <inputVars>
            <variable name="input">
              <type>
                <DATE />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Входная дата</xhtml>
              </documentation>
            </variable>
          </inputVars>
          <outputVars>
            <variable name="year">
              <type>
                <UINT />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Год</xhtml>
              </documentation>
            </variable>
            <variable name="month">
              <type>
                <UINT />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Месяц</xhtml>
              </documentation>
            </variable>
            <variable name="day">
              <type>
                <UINT />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> День</xhtml>
              </documentation>
            </variable>
          </outputVars>
          <localVars>
            <variable name="sTemp">
              <type>
                <string />
              </type>
            </variable>
          </localVars>
          <documentation>
            <xhtml xmlns="http://www.w3.org/1999/xhtml"> Извлечение года, месяца и дня из DATE</xhtml>
          </documentation>
        </interface>
        <body>
          <ST>
            <xhtml xmlns="http://www.w3.org/1999/xhtml">(* Получаем дату строкой 'D#2000-01-01' *)
sTemp := DATE_TO_STRING(input);
year := STRING_TO_UINT(MID(sTemp, 3, 4));
month := STRING_TO_UINT(MID(sTemp, 8, 2));
day := STRING_TO_UINT(MID(sTemp, 11, 2));

DateToElements := true;</xhtml>
          </ST>
        </body>
        <addData>
          <data name="http://www.3s-software.com/plcopenxml/objectid" handleUnknown="discard">
            <ObjectId>6db1ca07-0a85-498a-b97a-6a21380eb6fc</ObjectId>
          </data>
        </addData>
      </pou>
      <pou name="DayOfWeek" pouType="function">
        <interface>
          <returnType>
            <UINT />
          </returnType>
          <inputVars>
            <variable name="input">
              <type>
                <DATE />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Входная дата</xhtml>
              </documentation>
            </variable>
          </inputVars>
          <localVars>
            <variable name="NumOfDay">
              <type>
                <DWORD />
              </type>
            </variable>
          </localVars>
          <documentation>
            <xhtml xmlns="http://www.w3.org/1999/xhtml"> Определение дня недели</xhtml>
          </documentation>
        </interface>
        <body>
          <ST>
            <xhtml xmlns="http://www.w3.org/1999/xhtml">NumOfDay := DATE_TO_DWORD(input) / 86400; 
NumOfDay := NumOfDay + 3;
DayOfWeek := DWORD_TO_UINT(NumOfDay MOD 7);</xhtml>
          </ST>
        </body>
        <addData>
          <data name="http://www.3s-software.com/plcopenxml/objectid" handleUnknown="discard">
            <ObjectId>c2ffe08f-5940-4c7a-9f94-7b20fd25a5b5</ObjectId>
          </data>
        </addData>
      </pou>
      <pou name="DayOfYear" pouType="function">
        <interface>
          <returnType>
            <UINT />
          </returnType>
          <inputVars>
            <variable name="input">
              <type>
                <DATE />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Входная дата в формате DATE</xhtml>
              </documentation>
            </variable>
          </inputVars>
          <localVars>
            <variable name="year">
              <type>
                <UINT />
              </type>
            </variable>
            <variable name="month">
              <type>
                <UINT />
              </type>
            </variable>
            <variable name="day">
              <type>
                <UINT />
              </type>
            </variable>
          </localVars>
          <documentation>
            <xhtml xmlns="http://www.w3.org/1999/xhtml"> Вычисление порядкового дня в году</xhtml>
          </documentation>
        </interface>
        <body>
          <ST>
            <xhtml xmlns="http://www.w3.org/1999/xhtml">DateToElements(input := input, year =&gt; year, month =&gt; month, day =&gt; day);

DayOfYear := DaysTillMonth(year, month) + day;</xhtml>
          </ST>
        </body>
        <addData>
          <data name="http://www.3s-software.com/plcopenxml/objectid" handleUnknown="discard">
            <ObjectId>f45877af-d8f3-4c70-8245-f5113a02d7b2</ObjectId>
          </data>
        </addData>
      </pou>
      <pou name="DaysInYear" pouType="function">
        <interface>
          <returnType>
            <UINT />
          </returnType>
          <inputVars>
            <variable name="year">
              <type>
                <UINT />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Год</xhtml>
              </documentation>
            </variable>
          </inputVars>
          <documentation>
            <xhtml xmlns="http://www.w3.org/1999/xhtml"> Вычисление количества дней в году</xhtml>
          </documentation>
        </interface>
        <body>
          <ST>
            <xhtml xmlns="http://www.w3.org/1999/xhtml">IF IsLeapYear(year) THEN
	DaysInYear := 366;
ELSE
	DaysInYear := 365;
END_IF;</xhtml>
          </ST>
        </body>
        <addData>
          <data name="http://www.3s-software.com/plcopenxml/objectid" handleUnknown="discard">
            <ObjectId>0cb6fbcb-04a1-492a-bc99-f7d781171e05</ObjectId>
          </data>
        </addData>
      </pou>
      <pou name="DaysTillMonth" pouType="function">
        <interface>
          <returnType>
            <UINT />
          </returnType>
          <inputVars>
            <variable name="year">
              <type>
                <UINT />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Год</xhtml>
              </documentation>
            </variable>
            <variable name="month">
              <type>
                <UINT />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Месяц</xhtml>
              </documentation>
            </variable>
          </inputVars>
          <localVars>
            <variable name="days">
              <type>
                <array>
                  <dimension lower="1" upper="12" />
                  <baseType>
                    <UINT />
                  </baseType>
                </array>
              </type>
              <initialValue>
                <arrayValue>
                  <value>
                    <simpleValue value="0" />
                  </value>
                  <value>
                    <simpleValue value="31" />
                  </value>
                  <value>
                    <simpleValue value="59" />
                  </value>
                  <value>
                    <simpleValue value="90" />
                  </value>
                  <value>
                    <simpleValue value="120" />
                  </value>
                  <value>
                    <simpleValue value="151" />
                  </value>
                  <value>
                    <simpleValue value="181" />
                  </value>
                  <value>
                    <simpleValue value="212" />
                  </value>
                  <value>
                    <simpleValue value="243" />
                  </value>
                  <value>
                    <simpleValue value="273" />
                  </value>
                  <value>
                    <simpleValue value="304" />
                  </value>
                  <value>
                    <simpleValue value="334" />
                  </value>
                </arrayValue>
              </initialValue>
            </variable>
          </localVars>
          <documentation>
            <xhtml xmlns="http://www.w3.org/1999/xhtml"> функция, чтобы определить количество дней от начала года до указанного месяца.</xhtml>
          </documentation>
        </interface>
        <body>
          <ST>
            <xhtml xmlns="http://www.w3.org/1999/xhtml">DaysTillMonth := days[month] + BOOL_TO_UINT(month &gt; 2 AND IsLeapYear(year));</xhtml>
          </ST>
        </body>
        <addData>
          <data name="http://www.3s-software.com/plcopenxml/objectid" handleUnknown="discard">
            <ObjectId>998fa9fe-8a9c-4caf-85f6-9d4d58758e09</ObjectId>
          </data>
        </addData>
      </pou>
      <pou name="DaysTillYear" pouType="function">
        <interface>
          <returnType>
            <UINT />
          </returnType>
          <inputVars>
            <variable name="year">
              <type>
                <UINT />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Год</xhtml>
              </documentation>
            </variable>
          </inputVars>
          <documentation>
            <xhtml xmlns="http://www.w3.org/1999/xhtml"> считает сколько прошло дней до указанного года</xhtml>
          </documentation>
        </interface>
        <body>
          <ST>
            <xhtml xmlns="http://www.w3.org/1999/xhtml">(* Получаем количество лет прошло с 1970го года *)
year := year - 1970;
DaysTillYear := year * 365 + ((year + 1) / 4) - ((year + 69) / 100) + ((year + 369) / 400);</xhtml>
          </ST>
        </body>
        <addData>
          <data name="http://www.3s-software.com/plcopenxml/objectid" handleUnknown="discard">
            <ObjectId>3fd03899-b6a1-4d1d-bd61-e17642c4a73b</ObjectId>
          </data>
        </addData>
      </pou>
      <pou name="HmsToTime" pouType="function">
        <interface>
          <returnType>
            <TIME />
          </returnType>
          <inputVars>
            <variable name="h">
              <type>
                <UINT />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Часы</xhtml>
              </documentation>
            </variable>
            <variable name="m">
              <type>
                <UINT />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Минуты</xhtml>
              </documentation>
            </variable>
            <variable name="sec">
              <type>
                <UINT />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Секунды</xhtml>
              </documentation>
            </variable>
            <variable name="ms">
              <type>
                <UINT />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Миллисекунды</xhtml>
              </documentation>
            </variable>
          </inputVars>
          <documentation>
            <xhtml xmlns="http://www.w3.org/1999/xhtml"> Упаковка часов, минут, секунд и миллисекунд в TIME</xhtml>
          </documentation>
        </interface>
        <body>
          <ST>
            <xhtml xmlns="http://www.w3.org/1999/xhtml">HmsToTime := DWORD_TO_TIME(((h * 60 + m) * 60 + sec) * 1000 + ms);</xhtml>
          </ST>
        </body>
        <addData>
          <data name="http://www.3s-software.com/plcopenxml/objectid" handleUnknown="discard">
            <ObjectId>3968a562-7bfd-47a8-a79a-14053b959297</ObjectId>
          </data>
        </addData>
      </pou>
      <pou name="HourToTime" pouType="function">
        <interface>
          <returnType>
            <TIME />
          </returnType>
          <inputVars>
            <variable name="hours">
              <type>
                <INT />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Часы (0..23)</xhtml>
              </documentation>
            </variable>
          </inputVars>
          <documentation>
            <xhtml xmlns="http://www.w3.org/1999/xhtml"> Преобразовать часы (в виде INT) в TIME</xhtml>
          </documentation>
        </interface>
        <body>
          <ST>
            <xhtml xmlns="http://www.w3.org/1999/xhtml">HourToTime := T#1H * hours;</xhtml>
          </ST>
        </body>
        <addData>
          <data name="http://www.3s-software.com/plcopenxml/objectid" handleUnknown="discard">
            <ObjectId>6f15ae17-53ff-4aec-ba86-f5a3d4193b82</ObjectId>
          </data>
        </addData>
      </pou>
      <pou name="HourToTod" pouType="function">
        <interface>
          <returnType>
            <TOD />
          </returnType>
          <inputVars>
            <variable name="hours">
              <type>
                <INT />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Часы (0..23)</xhtml>
              </documentation>
            </variable>
          </inputVars>
          <documentation>
            <xhtml xmlns="http://www.w3.org/1999/xhtml"> Преобразовать количество часов (INT) во значение типа TOD (время суток).</xhtml>
          </documentation>
        </interface>
        <body>
          <ST>
            <xhtml xmlns="http://www.w3.org/1999/xhtml">HourToTod := TOD#00:00:00 + T#1h * hours;</xhtml>
          </ST>
        </body>
        <addData>
          <data name="http://www.3s-software.com/plcopenxml/objectid" handleUnknown="discard">
            <ObjectId>fe41eacd-9f55-4e06-b2b7-479808977dfb</ObjectId>
          </data>
        </addData>
      </pou>
      <pou name="IsLeapYear" pouType="function">
        <interface>
          <returnType>
            <BOOL />
          </returnType>
          <inputVars>
            <variable name="year">
              <type>
                <UINT />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Год</xhtml>
              </documentation>
            </variable>
          </inputVars>
          <documentation>
            <xhtml xmlns="http://www.w3.org/1999/xhtml"> Определение високосного года</xhtml>
          </documentation>
        </interface>
        <body>
          <ST>
            <xhtml xmlns="http://www.w3.org/1999/xhtml">IsLeapYear := year MOD 400 = 0 OR year MOD 4 = 0 AND year MOD 100 &lt;&gt; 0;</xhtml>
          </ST>
        </body>
        <addData>
          <data name="http://www.3s-software.com/plcopenxml/objectid" handleUnknown="discard">
            <ObjectId>2da9dfda-5b1d-454a-bcdd-873266c15f56</ObjectId>
          </data>
        </addData>
      </pou>
      <pou name="SunMidday" pouType="function">
        <interface>
          <returnType>
            <TOD />
          </returnType>
          <inputVars>
            <variable name="LON">
              <type>
                <REAL />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Широта</xhtml>
              </documentation>
            </variable>
            <variable name="UTC">
              <type>
                <DATE />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Дата в UTC</xhtml>
              </documentation>
            </variable>
          </inputVars>
          <localVars>
            <variable name="T">
              <type>
                <REAL />
              </type>
            </variable>
            <variable name="OFFSET">
              <type>
                <REAL />
              </type>
            </variable>
          </localVars>
          <documentation>
            <xhtml xmlns="http://www.w3.org/1999/xhtml"> время солнцестояния на заданной широте в заданное время</xhtml>
          </documentation>
        </interface>
        <body>
          <ST>
            <xhtml xmlns="http://www.w3.org/1999/xhtml">T := UINT_TO_REAL(DayOfYear(utc));
OFFSET := -0.1752 * SIN(0.033430 * T + 0.5474) - 0.1340 * SIN(0.018234 * T - 0.1939);
SunMidday := HourToTod(REAL_TO_INT(12.0 - OFFSET - lon * 0.0666666666666));</xhtml>
          </ST>
        </body>
        <addData>
          <data name="http://www.3s-software.com/plcopenxml/objectid" handleUnknown="discard">
            <ObjectId>8af2c015-46ea-475d-acc8-627981e9c1d4</ObjectId>
          </data>
        </addData>
      </pou>
      <pou name="TimeToElements" pouType="function">
        <interface>
          <returnType>
            <BOOL />
          </returnType>
          <inputVars>
            <variable name="input">
              <type>
                <TIME />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Входное время</xhtml>
              </documentation>
            </variable>
          </inputVars>
          <outputVars>
            <variable name="h">
              <type>
                <UINT />
              </type>
            </variable>
            <variable name="m">
              <type>
                <UINT />
              </type>
            </variable>
            <variable name="sec">
              <type>
                <UINT />
              </type>
            </variable>
            <variable name="ms">
              <type>
                <UINT />
              </type>
            </variable>
          </outputVars>
          <localVars>
            <variable name="sTemp">
              <type>
                <string />
              </type>
            </variable>
          </localVars>
          <documentation>
            <xhtml xmlns="http://www.w3.org/1999/xhtml"> Извлечение часов, минут, секунд и миллисекунд из TIME</xhtml>
          </documentation>
        </interface>
        <body>
          <ST>
            <xhtml xmlns="http://www.w3.org/1999/xhtml">(* Теперь время имеет строку типа 'TOD#12:12:59' *)
sTemp := TOD_TO_STRING(TIME_TO_TOD(input));
h := STRING_TO_UINT(MID(sTemp, 5, 2));
m := STRING_TO_UINT(MID(sTemp, 8, 2));
sec := STRING_TO_UINT(MID(sTemp, 11, 2));
TimeToElements := TRUE;</xhtml>
          </ST>
        </body>
        <addData>
          <data name="http://www.3s-software.com/plcopenxml/objectid" handleUnknown="discard">
            <ObjectId>d8de33e6-87c6-4733-b78a-ba4d754deb93</ObjectId>
          </data>
        </addData>
      </pou>
      <pou name="TodBetween" pouType="function">
        <interface>
          <returnType>
            <BOOL />
          </returnType>
          <inputVars>
            <variable name="CurrTime">
              <type>
                <TOD />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> текущее время </xhtml>
              </documentation>
            </variable>
            <variable name="FromTime">
              <type>
                <TOD />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> нижняя граница </xhtml>
              </documentation>
            </variable>
            <variable name="ToTime">
              <type>
                <TOD />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> верхняя граница </xhtml>
              </documentation>
            </variable>
          </inputVars>
          <documentation>
            <xhtml xmlns="http://www.w3.org/1999/xhtml"> функция определения, что текущее время находится в промежутке между двумя отметками времени TIME_OF_DAY.</xhtml>
          </documentation>
        </interface>
        <body>
          <ST>
            <xhtml xmlns="http://www.w3.org/1999/xhtml">TodBetween := (
	FromTime &gt; ToTime AND (CurrTime &gt; FromTime OR CurrTime &lt; ToTime)
	) OR (FromTime &lt; ToTime AND (CurrTime &lt; ToTime AND CurrTime &gt; FromTime)
);
</xhtml>
          </ST>
        </body>
        <addData>
          <data name="http://www.3s-software.com/plcopenxml/objectid" handleUnknown="discard">
            <ObjectId>c23200b5-1781-4c39-9b57-f0e0e966370c</ObjectId>
          </data>
        </addData>
      </pou>
      <pou name="TodDiff" pouType="function">
        <interface>
          <returnType>
            <TIME />
          </returnType>
          <inputVars>
            <variable name="FromTime">
              <type>
                <TOD />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> нижняя граница </xhtml>
              </documentation>
            </variable>
            <variable name="ToTime">
              <type>
                <TOD />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> верхняя граница </xhtml>
              </documentation>
            </variable>
          </inputVars>
          <documentation>
            <xhtml xmlns="http://www.w3.org/1999/xhtml"> Вычисление разницы отметок времени</xhtml>
          </documentation>
        </interface>
        <body>
          <ST>
            <xhtml xmlns="http://www.w3.org/1999/xhtml">IF ToTime &lt; FromTime THEN
	TodDiff := T#24H - TOD_TO_TIME(FromTime) + TOD_TO_TIME(ToTime);
ELSE
	TodDiff := ToTime - FromTime;
END_IF</xhtml>
          </ST>
        </body>
        <addData>
          <data name="http://www.3s-software.com/plcopenxml/objectid" handleUnknown="discard">
            <ObjectId>68ceaa4e-735c-48a4-a936-c6b5da48a973</ObjectId>
          </data>
        </addData>
      </pou>
      <pou name="WeekOfYear" pouType="function">
        <interface>
          <returnType>
            <UINT />
          </returnType>
          <inputVars>
            <variable name="currentDate">
              <type>
                <DATE />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Текущая дата </xhtml>
              </documentation>
            </variable>
          </inputVars>
          <documentation>
            <xhtml xmlns="http://www.w3.org/1999/xhtml"> Вычисления порядкового номера недели в году</xhtml>
          </documentation>
        </interface>
        <body>
          <ST>
            <xhtml xmlns="http://www.w3.org/1999/xhtml">WeekOfYear := ((DayOfYear(currentDate) + 6) / 7);
IF DayOfWeek(currentDate) &lt; DayOfWeek(YearStarts(currentDate)) THEN
	WeekOfYear := WeekOfYear + 1;
END_IF;</xhtml>
          </ST>
        </body>
        <addData>
          <data name="http://www.3s-software.com/plcopenxml/objectid" handleUnknown="discard">
            <ObjectId>70448faa-ac59-425b-8d39-299263f17006</ObjectId>
          </data>
        </addData>
      </pou>
      <pou name="YearStarts" pouType="function">
        <interface>
          <returnType>
            <DATE />
          </returnType>
          <inputVars>
            <variable name="currentDate">
              <type>
                <DATE />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Текущая дата </xhtml>
              </documentation>
            </variable>
          </inputVars>
          <localVars>
            <variable name="str">
              <type>
                <string length="25" />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Временная строка </xhtml>
              </documentation>
            </variable>
          </localVars>
          <documentation>
            <xhtml xmlns="http://www.w3.org/1999/xhtml"> Вычисления с какого дня недели начинается год</xhtml>
          </documentation>
        </interface>
        <body>
          <ST>
            <xhtml xmlns="http://www.w3.org/1999/xhtml">str := DATE_TO_STRING(currentDate); (* получаем строку `D#2000-12-30` *)
YearStarts := STRING_TO_DATE(CONCAT(CONCAT('D#', MID(str, 3, 4)), '-01-01'));</xhtml>
          </ST>
        </body>
        <addData>
          <data name="http://www.3s-software.com/plcopenxml/objectid" handleUnknown="discard">
            <ObjectId>395f1cd0-ef8e-4840-af88-1cc7e4bc199f</ObjectId>
          </data>
        </addData>
      </pou>
      <pou name="YmdhmsTodt" pouType="function">
        <interface>
          <returnType>
            <DT />
          </returnType>
          <inputVars>
            <variable name="y">
              <type>
                <UINT />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Год</xhtml>
              </documentation>
            </variable>
            <variable name="mn">
              <type>
                <UINT />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Месяц</xhtml>
              </documentation>
            </variable>
            <variable name="d">
              <type>
                <UINT />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> День</xhtml>
              </documentation>
            </variable>
            <variable name="h">
              <type>
                <UINT />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Час</xhtml>
              </documentation>
            </variable>
            <variable name="m">
              <type>
                <UINT />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Минуты</xhtml>
              </documentation>
            </variable>
            <variable name="sec">
              <type>
                <UINT />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Секунды</xhtml>
              </documentation>
            </variable>
            <variable name="ms">
              <type>
                <UINT />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Миллисекунды</xhtml>
              </documentation>
            </variable>
          </inputVars>
          <localVars>
            <variable name="sTemp">
              <type>
                <string />
              </type>
            </variable>
          </localVars>
          <documentation>
            <xhtml xmlns="http://www.w3.org/1999/xhtml"> Упаковка года, месяца, дня, часов, минут, секунд и миллисекунд в DT</xhtml>
          </documentation>
        </interface>
        <body>
          <ST>
            <xhtml xmlns="http://www.w3.org/1999/xhtml">sTemp := CONCAT('DT#', UINT_TO_STRING(y));
sTemp := CONCAT(sTemp, '-');
sTemp := CONCAT(sTemp, UINT_TO_STRING(mn));
sTemp := CONCAT(sTemp, '-');
sTemp := CONCAT(sTemp, UINT_TO_STRING(d));
sTemp := CONCAT(sTemp, '-');
sTemp := CONCAT(sTemp, UINT_TO_STRING(h));
sTemp := CONCAT(sTemp, '-');
sTemp := CONCAT(sTemp, UINT_TO_STRING(m));
sTemp := CONCAT(sTemp, '-');
sTemp := CONCAT(sTemp, UINT_TO_STRING(sec));
sTemp := CONCAT(sTemp, '-');
sTemp := CONCAT(sTemp, UINT_TO_STRING(ms));
YmdhmsTodt := STRING_TO_DT(sTemp);</xhtml>
          </ST>
        </body>
        <addData>
          <data name="http://www.3s-software.com/plcopenxml/objectid" handleUnknown="discard">
            <ObjectId>22b5f20f-f8ae-477a-af67-7efa962518d0</ObjectId>
          </data>
        </addData>
      </pou>
      <pou name="YmdToDate" pouType="function">
        <interface>
          <returnType>
            <DATE />
          </returnType>
          <inputVars>
            <variable name="y">
              <type>
                <UINT />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Год</xhtml>
              </documentation>
            </variable>
            <variable name="m">
              <type>
                <UINT />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Месяц</xhtml>
              </documentation>
            </variable>
            <variable name="d">
              <type>
                <UINT />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> День</xhtml>
              </documentation>
            </variable>
          </inputVars>
          <localVars>
            <variable name="sTemp">
              <type>
                <string />
              </type>
            </variable>
          </localVars>
          <documentation>
            <xhtml xmlns="http://www.w3.org/1999/xhtml"> Gеревод год, месяц и день в формат DATE.</xhtml>
          </documentation>
        </interface>
        <body>
          <ST>
            <xhtml xmlns="http://www.w3.org/1999/xhtml">sTemp := CONCAT('D#', UINT_TO_STRING(y));
sTemp := CONCAT(sTemp, '-');
sTemp := CONCAT(sTemp, UINT_TO_STRING(m));
sTemp := CONCAT(sTemp, '-');
sTemp := CONCAT(sTemp, UINT_TO_STRING(d));
YmdToDate := STRING_TO_DATE(sTemp);</xhtml>
          </ST>
        </body>
        <addData>
          <data name="http://www.3s-software.com/plcopenxml/objectid" handleUnknown="discard">
            <ObjectId>5c9ab7aa-35fb-49a0-b541-53a3c59037e8</ObjectId>
          </data>
        </addData>
      </pou>
      <pou name="BitCount" pouType="function">
        <interface>
          <returnType>
            <INT />
          </returnType>
          <inputVars>
            <variable name="input">
              <type>
                <DWORD />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Входное число</xhtml>
              </documentation>
            </variable>
          </inputVars>
          <documentation>
            <xhtml xmlns="http://www.w3.org/1999/xhtml"> Cчитает количество бит, равных TRUE в DWORD.
 Пример: bit_count(3) = 2 Потому что 2 бита равны 1, а остальные равны 0.</xhtml>
          </documentation>
        </interface>
        <body>
          <ST>
            <xhtml xmlns="http://www.w3.org/1999/xhtml">WHILE input &gt; 0 DO
	IF input.0 THEN
		BitCount := BitCount + 1;
	END_IF
	input := SHR(input, 1);
END_WHILE;</xhtml>
          </ST>
        </body>
        <addData>
          <data name="http://www.3s-software.com/plcopenxml/objectid" handleUnknown="discard">
            <ObjectId>35c5d0b0-50b6-48ad-8ade-487398968ef5</ObjectId>
          </data>
        </addData>
      </pou>
      <pou name="BitLoadB" pouType="function">
        <interface>
          <returnType>
            <BYTE />
          </returnType>
          <inputVars>
            <variable name="input">
              <type>
                <BYTE />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Байт, в котором нужно произвести операцию </xhtml>
              </documentation>
            </variable>
            <variable name="value">
              <type>
                <BOOL />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Присваиваемое значение </xhtml>
              </documentation>
            </variable>
            <variable name="position">
              <type>
                <INT />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Какому по номеру биту </xhtml>
              </documentation>
            </variable>
          </inputVars>
          <localVars constant="true">
            <variable name="dat">
              <type>
                <BYTE />
              </type>
              <initialValue>
                <simpleValue value="1" />
              </initialValue>
            </variable>
          </localVars>
          <documentation>
            <xhtml xmlns="http://www.w3.org/1999/xhtml"> Загружает значение одного бита в байт.
 bit_load_b(2#0000_0000, 1, 2) = 2#0000_0010</xhtml>
          </documentation>
        </interface>
        <body>
          <ST>
            <xhtml xmlns="http://www.w3.org/1999/xhtml">IF value THEN
	BitLoadB := input OR SHL(dat, position);
ELSE
	BitLoadB := input AND (NOT SHL(dat, position));
END_IF;</xhtml>
          </ST>
        </body>
        <addData>
          <data name="http://www.3s-software.com/plcopenxml/objectid" handleUnknown="discard">
            <ObjectId>0ee4e802-faae-426e-a4d7-a5fbb5c81186</ObjectId>
          </data>
        </addData>
      </pou>
      <pou name="BitOfDword" pouType="function">
        <interface>
          <returnType>
            <BOOL />
          </returnType>
          <inputVars>
            <variable name="input">
              <type>
                <DWORD />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Входное число</xhtml>
              </documentation>
            </variable>
            <variable name="n">
              <type>
                <INT />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> номер бита </xhtml>
              </documentation>
            </variable>
          </inputVars>
          <documentation>
            <xhtml xmlns="http://www.w3.org/1999/xhtml"> Вычисляем значение единичного бита в переменной типа DWORD.</xhtml>
          </documentation>
        </interface>
        <body>
          <ST>
            <xhtml xmlns="http://www.w3.org/1999/xhtml">BitOfDword := (SHR(input, n) AND 16#00000001) &gt; 0;</xhtml>
          </ST>
        </body>
        <addData>
          <data name="http://www.3s-software.com/plcopenxml/objectid" handleUnknown="discard">
            <ObjectId>7c67bd8a-5ab5-43d1-9cc5-4957da9e0079</ObjectId>
          </data>
        </addData>
      </pou>
      <pou name="BitToggleDword" pouType="function">
        <interface>
          <returnType>
            <DWORD />
          </returnType>
          <inputVars>
            <variable name="input">
              <type>
                <DWORD />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Входное значение</xhtml>
              </documentation>
            </variable>
            <variable name="position">
              <type>
                <INT />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Номер инвертируемого бита</xhtml>
              </documentation>
            </variable>
          </inputVars>
          <documentation>
            <xhtml xmlns="http://www.w3.org/1999/xhtml"> Инвертируем указанный бит в DWORD</xhtml>
          </documentation>
        </interface>
        <body>
          <ST>
            <xhtml xmlns="http://www.w3.org/1999/xhtml">BitToggleDword := SHL(DWORD#1, position) XOR input;</xhtml>
          </ST>
        </body>
        <addData>
          <data name="http://www.3s-software.com/plcopenxml/objectid" handleUnknown="discard">
            <ObjectId>fbbd32ea-a489-45b8-af81-580307e6eaa4</ObjectId>
          </data>
        </addData>
      </pou>
      <pou name="CompareReals" pouType="function">
        <interface>
          <returnType>
            <BOOL />
          </returnType>
          <inputVars>
            <variable name="x">
              <type>
                <REAL />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Входное значение X</xhtml>
              </documentation>
            </variable>
            <variable name="y">
              <type>
                <REAL />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Входное значение Y</xhtml>
              </documentation>
            </variable>
            <variable name="n">
              <type>
                <INT />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Количество сравниваемых разрядов</xhtml>
              </documentation>
            </variable>
          </inputVars>
          <localVars>
            <variable name="tmp">
              <type>
                <REAL />
              </type>
            </variable>
          </localVars>
          <documentation>
            <xhtml xmlns="http://www.w3.org/1999/xhtml"> Сравнивает 2 входных числовых переменных, совпадают ли их первые разрады.
 Количество сравниваемых разрядов передается в параметре N.
 cmp(3.141516, 3.141517, 6) вернет TRUE.</xhtml>
          </documentation>
        </interface>
        <body>
          <ST>
            <xhtml xmlns="http://www.w3.org/1999/xhtml">tmp := ABS(x);
IF tmp &gt; 0.0 THEN
	tmp := Exp10(DINT_TO_REAL(FLOOR(LOG(tmp))-n+1));
ELSE
	tmp := Exp10(tmp);
END_IF;

CompareReals := ABS(x - y) &lt; tmp;</xhtml>
          </ST>
        </body>
        <addData>
          <data name="http://www.3s-software.com/plcopenxml/objectid" handleUnknown="discard">
            <ObjectId>95639908-aef5-4ad0-9463-00d7f35e4750</ObjectId>
          </data>
        </addData>
      </pou>
      <pou name="DTrunc" pouType="function">
        <interface>
          <returnType>
            <DINT />
          </returnType>
          <inputVars>
            <variable name="input">
              <type>
                <REAL />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Входное значение</xhtml>
              </documentation>
            </variable>
          </inputVars>
          <documentation>
            <xhtml xmlns="http://www.w3.org/1999/xhtml"> Усекает число с плавающей запятой в целое число DINT. 1.5 станет 1, а -1.5 станет -1. 
 Данная функция необходима, потому что REAL_TO_DINT на разных системах может вернуть разный результат.</xhtml>
          </documentation>
        </interface>
        <body>
          <ST>
            <xhtml xmlns="http://www.w3.org/1999/xhtml">DTrunc := REAL_TO_DINT(input);

IF input &gt; 0.0 THEN
	IF DINT_TO_REAL(DTrunc) &gt; input THEN
		DTrunc := DTrunc - 1;
	END_IF;
ELSE
	IF DINT_TO_REAL(DTrunc) &lt; input THEN
		DTrunc := DTrunc + 1;
	END_IF;
END_IF;</xhtml>
          </ST>
        </body>
        <addData>
          <data name="http://www.3s-software.com/plcopenxml/objectid" handleUnknown="discard">
            <ObjectId>e81c8fd1-e716-4f15-a950-9242e8801c85</ObjectId>
          </data>
        </addData>
      </pou>
      <pou name="Even" pouType="function">
        <interface>
          <returnType>
            <BOOL />
          </returnType>
          <inputVars>
            <variable name="input">
              <type>
                <DINT />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Входное значение</xhtml>
              </documentation>
            </variable>
          </inputVars>
          <documentation>
            <xhtml xmlns="http://www.w3.org/1999/xhtml"> Вычисляет, является ли число четным или нет. Если четное, то вернет TRUE, а если нет - вернет FALSE.</xhtml>
          </documentation>
        </interface>
        <body>
          <ST>
            <xhtml xmlns="http://www.w3.org/1999/xhtml">Even := NOT input.0;</xhtml>
          </ST>
        </body>
        <addData>
          <data name="http://www.3s-software.com/plcopenxml/objectid" handleUnknown="discard">
            <ObjectId>dd31efa8-aa78-41e1-be66-269920045c5c</ObjectId>
          </data>
        </addData>
      </pou>
      <pou name="Random" pouType="function">
        <interface>
          <returnType>
            <REAL />
          </returnType>
          <inputVars>
            <variable name="last">
              <type>
                <REAL />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Предыдущее значение</xhtml>
              </documentation>
            </variable>
          </inputVars>
          <localVars>
            <variable name="tn">
              <type>
                <DWORD />
              </type>
            </variable>
            <variable name="tc">
              <type>
                <INT />
              </type>
            </variable>
          </localVars>
          <localVars constant="true">
            <variable name="E">
              <type>
                <REAL />
              </type>
              <initialValue>
                <simpleValue value="2.7182818284590451" />
              </initialValue>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> константа Эйлера</xhtml>
              </documentation>
            </variable>
          </localVars>
          <documentation>
            <xhtml xmlns="http://www.w3.org/1999/xhtml"> Вычисляет псевдо-случайное число. Чтобы сгенерировать число, функция
 считывает таймер ПЛК и создает число с плавающей точкой от 0 до 1. Чтобы
 использовать эту функцию больше, чем один раз, в одном цикле ПЛК, нужно ее
 вызывать с разным значением входного параметра last. В него проще внести
 прошлое число, чтобы исключить повторения.</xhtml>
          </documentation>
        </interface>
        <body>
          <ST>
            <xhtml xmlns="http://www.w3.org/1999/xhtml">tn := TIME_TO_DWORD(TIME());
tc := BitCount(tn);
tn.31 := tn.2;
tn.30 := tn.5;
tn.29 := tn.4;
tn.28 := tn.1;
tn.27 := tn.0;
tn.26 := tn.7;
tn.25 := tn.6;
tn.24 := tn.3;
tn := ROL(tn, BitCount(tn)) OR 16#80000001;
tn := tn MOD 71474513 + INT_TO_DWORD(tc + 77);
Random := FRACT(DWORD_TO_REAL(tn) / 10000000.0 *
(E - LIMIT(0.0, last, 1.0))
);</xhtml>
          </ST>
        </body>
        <addData>
          <data name="http://www.3s-software.com/plcopenxml/objectid" handleUnknown="discard">
            <ObjectId>8d60497f-9b6b-4c61-877a-775acbca0520</ObjectId>
          </data>
        </addData>
      </pou>
      <pou name="SwapDwordBytes" pouType="function">
        <interface>
          <returnType>
            <DWORD />
          </returnType>
          <inputVars>
            <variable name="input">
              <type>
                <DWORD />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Входное значение</xhtml>
              </documentation>
            </variable>
          </inputVars>
          <documentation>
            <xhtml xmlns="http://www.w3.org/1999/xhtml"> Поменять байт местами в DWORD </xhtml>
          </documentation>
        </interface>
        <body>
          <ST>
            <xhtml xmlns="http://www.w3.org/1999/xhtml">SwapDwordBytes := (ROR(input, 8) AND 16#FF00FF00) OR (ROL(input, 8) AND 16#00FF00FF);</xhtml>
          </ST>
        </body>
        <addData>
          <data name="http://www.3s-software.com/plcopenxml/objectid" handleUnknown="discard">
            <ObjectId>2cf34bc5-a910-4ad8-9cd5-2ccbbf01ed02</ObjectId>
          </data>
        </addData>
      </pou>
      <pou name="SwapWordBytes" pouType="function">
        <interface>
          <returnType>
            <WORD />
          </returnType>
          <inputVars>
            <variable name="input">
              <type>
                <WORD />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Входное значение</xhtml>
              </documentation>
            </variable>
          </inputVars>
          <documentation>
            <xhtml xmlns="http://www.w3.org/1999/xhtml"> Поменять байт местами в WORD </xhtml>
          </documentation>
        </interface>
        <body>
          <ST>
            <xhtml xmlns="http://www.w3.org/1999/xhtml">SwapWordBytes := ROL(input, 8);</xhtml>
          </ST>
        </body>
        <addData>
          <data name="http://www.3s-software.com/plcopenxml/objectid" handleUnknown="discard">
            <ObjectId>683a7031-edb1-4113-9c5d-4519805b2f16</ObjectId>
          </data>
        </addData>
      </pou>
    </pous>
  </types>
  <instances>
    <configurations />
  </instances>
  <addData>
    <data name="http://www.3s-software.com/plcopenxml/libraries" handleUnknown="implementation">
      <Libraries>
        <Library Name="#Standard" Namespace="Standard" HideWhenReferencedAsDependency="false" PublishSymbolsInContainer="false" SystemLibrary="false" LinkAllContent="false" DefaultResolution="Standard, * (System)" />
        <addData>
          <data name="http://www.3s-software.com/plcopenxml/objectid" handleUnknown="discard">
            <ObjectId>8c1463b5-02f2-427d-bd06-9e39d42fcbff</ObjectId>
          </data>
        </addData>
      </Libraries>
    </data>
    <data name="http://www.3s-software.com/plcopenxml/projectstructure" handleUnknown="discard">
      <ProjectStructure>
        <Folder Name="AnjlabCodeBox">
          <Folder Name="Function Blocks">
            <Folder Name="Signals">
              <Object Name="DebunceBoolIn" ObjectId="95ddd795-0967-4fd1-b39a-104236a6cda9" />
              <Object Name="DebunceBoolInOut" ObjectId="55ebab12-5437-4033-a731-b42ecbacfe06" />
              <Object Name="DebunceBoolOut" ObjectId="30d49b21-1ce3-4ef8-883d-665f4a788870" />
              <Object Name="DetectEdgeFiltered" ObjectId="576b0ef3-7dfb-44b9-9d4d-f7a2f2158045" />
              <Object Name="DoubleClick" ObjectId="d3ac0715-866a-45c1-a900-b774b7c5c01c" />
              <Object Name="FilterNR" ObjectId="23da4515-91ff-492f-bd6c-a924c27cb1b0" />
              <Object Name="FilterTW" ObjectId="cc4d134d-f449-4f06-8605-2d943310a473" />
              <Object Name="LongClick" ObjectId="e847a08d-2858-49e0-b6fb-cbe441c3349b" />
              <Object Name="PwmClock" ObjectId="e2565834-4fd9-4a85-b9e7-a4c45a2b4e0b" />
              <Object Name="PwmDc" ObjectId="55fa2adc-b14d-4d49-a0d3-ee6618946ede" />
              <Object Name="PwmPw" ObjectId="ff93b01a-c5fb-4d17-a425-8e834ffc249d" />
            </Folder>
            <Folder Name="Time">
              <Object Name="SunTime" ObjectId="c0162500-a121-4d9a-a1ba-5801e54027bc" />
            </Folder>
          </Folder>
          <Folder Name="Functions">
            <Folder Name="Math">
              <Object Name="Ceil" ObjectId="7e9d7ee0-507a-40bb-a5cb-1802edf09ecc" />
              <Object Name="Exp10" ObjectId="f6121561-6e17-4f2f-aa33-883772fb1cdc" />
              <Object Name="ExpN" ObjectId="9bf63bfe-fe54-48dc-8f90-261ea50d788f" />
              <Object Name="Floor" ObjectId="24fdd6dd-18c7-494b-9be5-85e1efccd187" />
              <Object Name="Fract" ObjectId="645754da-c783-41eb-83c4-3246b516ea8a" />
              <Object Name="ModR" ObjectId="eb5f423f-4ff8-4594-96fb-e59f6014738a" />
              <Object Name="Round" ObjectId="43eb8e9c-7822-492d-a6d3-b21875b9c65d" />
            </Folder>
            <Folder Name="Strings">
              <Object Name="CountChar" ObjectId="5aa298bd-a611-423a-87e1-7a0a808f20a1" />
              <Object Name="RemoveSubString" ObjectId="0b8ea8fb-1139-4800-98db-52a469579462" />
              <Object Name="ToUpper" ObjectId="698221f0-adfb-47db-abeb-4a75818c8180" />
            </Folder>
            <Folder Name="Utils">
              <Object Name="BitCount" ObjectId="35c5d0b0-50b6-48ad-8ade-487398968ef5" />
              <Object Name="BitLoadB" ObjectId="0ee4e802-faae-426e-a4d7-a5fbb5c81186" />
              <Object Name="BitOfDword" ObjectId="7c67bd8a-5ab5-43d1-9cc5-4957da9e0079" />
              <Object Name="BitToggleDword" ObjectId="fbbd32ea-a489-45b8-af81-580307e6eaa4" />
              <Object Name="CompareReals" ObjectId="95639908-aef5-4ad0-9463-00d7f35e4750" />
              <Object Name="DTrunc" ObjectId="e81c8fd1-e716-4f15-a950-9242e8801c85" />
              <Object Name="Even" ObjectId="dd31efa8-aa78-41e1-be66-269920045c5c" />
              <Object Name="Random" ObjectId="8d60497f-9b6b-4c61-877a-775acbca0520" />
              <Object Name="SwapWordBytes" ObjectId="683a7031-edb1-4113-9c5d-4519805b2f16" />
              <Object Name="SwapDwordBytes" ObjectId="2cf34bc5-a910-4ad8-9cd5-2ccbbf01ed02" />
            </Folder>
            <Folder Name="Time">
              <Object Name="DateToElements" ObjectId="6db1ca07-0a85-498a-b97a-6a21380eb6fc" />
              <Object Name="DayOfWeek" ObjectId="c2ffe08f-5940-4c7a-9f94-7b20fd25a5b5" />
              <Object Name="DayOfYear" ObjectId="f45877af-d8f3-4c70-8245-f5113a02d7b2" />
              <Object Name="DaysInYear" ObjectId="0cb6fbcb-04a1-492a-bc99-f7d781171e05" />
              <Object Name="DaysTillMonth" ObjectId="998fa9fe-8a9c-4caf-85f6-9d4d58758e09" />
              <Object Name="DaysTillYear" ObjectId="3fd03899-b6a1-4d1d-bd61-e17642c4a73b" />
              <Object Name="HmsToTime" ObjectId="3968a562-7bfd-47a8-a79a-14053b959297" />
              <Object Name="HourToTime" ObjectId="6f15ae17-53ff-4aec-ba86-f5a3d4193b82" />
              <Object Name="HourToTod" ObjectId="fe41eacd-9f55-4e06-b2b7-479808977dfb" />
              <Object Name="IsLeapYear" ObjectId="2da9dfda-5b1d-454a-bcdd-873266c15f56" />
              <Object Name="SunMidday" ObjectId="8af2c015-46ea-475d-acc8-627981e9c1d4" />
              <Object Name="TimeToElements" ObjectId="d8de33e6-87c6-4733-b78a-ba4d754deb93" />
              <Object Name="TodBetween" ObjectId="c23200b5-1781-4c39-9b57-f0e0e966370c" />
              <Object Name="TodDiff" ObjectId="68ceaa4e-735c-48a4-a936-c6b5da48a973" />
              <Object Name="WeekOfYear" ObjectId="70448faa-ac59-425b-8d39-299263f17006" />
              <Object Name="YearStarts" ObjectId="395f1cd0-ef8e-4840-af88-1cc7e4bc199f" />
              <Object Name="YmdhmsTodt" ObjectId="22b5f20f-f8ae-477a-af67-7efa962518d0" />
              <Object Name="YmdToDate" ObjectId="5c9ab7aa-35fb-49a0-b541-53a3c59037e8" />
            </Folder>
            <Folder Name="Physics">
              <Object Name="CelciusToFarenheit" ObjectId="f38a7a17-3c95-415a-9d89-4d5e214e7d67" />
              <Object Name="CelciusToKelvin" ObjectId="c9722344-c925-4350-b9db-68400010e960" />
              <Object Name="DegreesToRadians" ObjectId="00741b76-d02e-4841-9218-cf4e51799c29" />
              <Object Name="FarenheitToCelcius" ObjectId="1c8099aa-563e-4039-baa6-55b2d26aae82" />
              <Object Name="KelvinToCelcius" ObjectId="e6d47c81-1b52-487e-bf16-0f77ef5ec08d" />
              <Object Name="KmhToMs" ObjectId="2027f9e1-f77f-4afa-a939-a7875cdc7b46" />
              <Object Name="MsToKmh" ObjectId="89576b24-8a23-496b-abf0-27109c81d84e" />
              <Object Name="RadiansToDegrees" ObjectId="4b9ad742-ef31-4574-92c8-257046749aee" />
            </Folder>
            <Folder Name="IO">
              <Object Name="IpDecode" ObjectId="370b1e33-b130-432d-82c0-d0ff7d197d76" />
            </Folder>
            <Folder Name="Signals">
              <Object Name="ScaleReal" ObjectId="6196bfc8-2183-4935-bc2e-5406080c7841" />
            </Folder>
          </Folder>
        </Folder>
        <Object Name="Library Manager" ObjectId="8c1463b5-02f2-427d-bd06-9e39d42fcbff" />
        <Object Name="Project Information" ObjectId="11c0fc3a-9bcf-4dd8-ac38-efb93363e521" />
      </ProjectStructure>
    </data>
  </addData>
</project>
